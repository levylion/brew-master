<div class="dashboard-container">
    <h2 style="color: var(--primary-color); margin-bottom: 2rem;">Brewery Dashboard</h2>

    <div class="grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px;">
        <!-- Active Batches -->
        <div class="card">
            <h3>Active Batches</h3>
            <ul style="list-style: none; padding: 0;">
                @for (batch of batches; track batch.name) {
                <li
                    style="padding: 12px 0; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <span style="font-size: 1.5rem; margin-right: 12px;">{{batch.icon}}</span>
                        <strong>{{batch.name}}</strong>
                    </div>
                    <span class="badge" [style.color]="batch.status === 'Boiling' ? '#ef4444' : '#10b981'">
                        {{batch.status}}
                    </span>
                </li>
                }
            </ul>
        </div>

        <!-- Live Preview (Large Image Bug) -->
        <div class="card">
            <h3>Live Brewery Cam</h3>
            <!-- BUG: Large Unoptimized Image (LCP Issue) -->
            <!-- Loading a 4K image and scaling it down with CSS -->
            <img src="https://images.unsplash.com/photo-1571613316887-6f8d5cbf7efk?q=80&w=4000&auto=format&fit=crop"
                alt="Brewery Floor" style="width: 100%; border-radius: 8px; margin-top: 1rem;">
            <p style="color: var(--text-muted); margin-top: 1rem; font-size: 0.9rem;">
                Feed updated: Live
            </p>
        </div>

        <!-- System Status (Thrashing Target) -->
        <div class="card">
            <h3>System Status</h3>
            <div #thrashingTarget
                style="background: #2a2a2a; padding: 1rem; border-radius: 8px; height: 150px; overflow: hidden; transition: none;">
                <p>CPU Load: <strong>High</strong></p>
                <p>Memory: <strong>Stable</strong></p>
                <p>Pump Pressure: <strong>12.4 PSI</strong></p>

                <div style="margin-top: 1rem; font-size: 0.8rem; color: #666;">
                    Analysis: Layout shifting detected...
                </div>
            </div>
        </div>
    </div>
</div>